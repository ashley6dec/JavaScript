<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <button onclick="clickHandler2()">Click Me</button>

    <script>

        // function clickHandler(){

        //     console.log("Button clicked");

        //     const xhr = new XMLHttpRequest();
        //     xhr.open('GET','https://dog.ceo/api/breeds/image/random')

        //     xhr.onload = () =>{
        //     const response = JSON.parse(xhr.response)  //actual response

        //     console.log("response",response)

        //     const image = document.createElement("img");  //create ele in js
        //     image.setAttribute("src",response.message)  //setting value of that ele
        //     image.setAttribute("height","200px") 
        //     image.setAttribute("width","200px") 
        //     // console.log(image.getAttribute("height"))
        //     document.body.append(image)  //to print in browser html page
        //     }
        
        // xhr.onerror = () => {
        //     console.log("error occurerd")
        // }
        
    
        // xhr.send()

        // }

        // setTimeout( ()=> { console.log("normal timeout")},5000)
        
        // // const xhr=new XMLHttpRequest();
        // // xhr.open('GET','https://dog.ceo/api/breeds/image/random')
       
        // // xhr.onload = ()=> {
        // //     // console.log("response",xhr.response)  //json string

        // // const response = JSON.parse(xhr.response)  //actual response

        // //     console.log(response)

        // //     const image = document.createElement("img");  //create ele in js
        // //     image.setAttribute("src",response.message)  //setting value of that ele

        // //     console.log(image.getAttribute("height"))
        // //     document.body.append(image)  //to print in browser html page
        // // }
        // // xhr.onerror = () => {
        // //     console.log("error occurerd")
        // // }
       



        //TO AVOID NESTED LOOP ISSUE WE USE FETCH
       function clickHandler2(){
        fetch("https://dog.ceo/api/breeds/image/random")
        .then( response=> response.json())
        .then(parsedResponse =>
        {
             console.log(parsedResponse)

        const image = document.createElement("img");  //create ele in js
            image.setAttribute("src",parsedResponse.message)  //setting value of that ele
            image.setAttribute("height","200px") 
            image.setAttribute("width","200px") 
       
           document.body.append(image)  //to print in browser html page
       }
        )
    }

       
   
   
   </script>
</body>
</html>